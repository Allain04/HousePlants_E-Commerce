const CART_KEY='gn_cart_v1';function getCart(){return JSON.parse(localStorage.getItem(CART_KEY))||{};}function saveCart(c){localStorage.setItem(CART_KEY,JSON.stringify(c));updateCartCount();}function addToCart(i,q=1){const c=getCart();c[i]=(c[i]||0)+q;saveCart(c);}function cartTotalItems(){return Object.values(getCart()).reduce((a,b)=>a+b,0);}function updateCartCount(){document.querySelectorAll('#cart-count').forEach(e=>e.textContent=cartTotalItems());}window.addEventListener('DOMContentLoaded',updateCartCount);